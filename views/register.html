<% 
dashboard = false;
browse = false;
create = false;
search = false;
logout = false;
 %>

<% include header.html %>

    <div class="container">

      <div class="page-header" id="banner">
        <div class="row">
        </div>
      </div>

      <!-- Example row of columns -->
      <div class="row">

    <!-- Register User Form -->
      <div class="col-md-3"></div>
      <div class="col-md-6 well">
        <h1><span class="glyphicon glyphicon-pencil"></span> Register as a New User</h1>
        <hr />
        <form method="POST" action="/register" role="form">
          <div class="form-group" id="username_input">
            <label for="username">Username</label>
            <input name="username" id="username" type="text" placeholder="Enter a desired username" class="form-control">
          </div>

          <div class="form-group" id="password_input">
            <label for="password">Password</label>
            <input name="password" id="password" type="password" placeholder="Password" class="form-control">
          </div>

          <div class="form-group" id="email_input">
            <label for="email">Email</label>
            <input name="email" id="email" type="text" placeholder="Email Address" class="form-control">
          </div>

          <div class="form-group">
            <!-- 'user', 'coordinator', 'admin' -->
            <label for="role">Role</label>
            <div class="radio">
              <label>
                <input type="radio" name="role" id="role1" value="user" checked> User
              </label>
            </div>
            <div class="radio">
              <label>
                <input type="radio" name="role" id="role2" value="coordinator"> Coordinator
              </label>
            </div>
            <div class="radio">
              <label>
                <input type="radio" name="role" id="role3" value="admin"> Admin
              </label>
            </div>
          </div>
          <hr />
          <button type="submit" class="btn btn-primary btn-lg btn-block">Register</button>
        </form>
      </div>
      <div class="col-md-3"></div>
    <!-- Register User Form -->
        
      </div> <!-- end div row -->

      <hr>

<% include footer.html %>

<script src="/js/moment.js" type="text/javascript"></script>
<script src="/js/bootstrap-datetimepicker.js" type="text/javascript"></script>
<script src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false"></script>
<script type="text/javascript">
    $(document).ready(function () {
        add_input_checker("username", function(value) {return value != '';});
        add_input_checker("password", function(value) {return value != '';});
        add_input_checker("email", function(value) {
          var regexEmail  = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
          var regexNCSU = /^([\w-\.]+@(?!ncsu.edu)([\w-]+\.)+[\w-]{2,4})?$/;
          return regexEmail.test(value) && !regexNCSU.test(value) ;
        });
    });

    function add_input_checker(id_base, fn) {
        id_base = "#" + id_base;
        var $elem_input = $(id_base + "_input");
        var $elem = $(id_base);
        $elem.on('keyup', function() { // Focus event
            if (fn(this.value)) {
                $elem_input.removeClass("has-error");
                $elem_input.addClass("has-success");
            }
        });
        $elem.on('blur', function() { // Focus event
            if (!fn(this.value)) {
                $elem_input.removeClass("has-success");
                $elem_input.addClass("has-error");
            }
            else {
                $elem_input.removeClass("has-error");
                $elem_input.addClass("has-success");
            }
        });
    }
</script>

